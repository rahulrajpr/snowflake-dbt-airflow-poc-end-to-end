
# ===================================================================
# PERSISTENT STORE — single source of truth for all data paths
# ===================================================================
# IMPORTANT: Update this to your actual persistent-store location

PERSISTENT_STORE_PATH=../persistent-store

# ===================================================================
# POSTGRESQL INTERNAL DATABASE — Airflow & Superset metadata
# ===================================================================

POSTGRES_INTERNAL_USER=airflow_internal
POSTGRES_INTERNAL_PASSWORD=airflow_internal_secure
POSTGRES_INTERNAL_DB=airflow
POSTGRES_INTERNAL_DATA_PATH=${PERSISTENT_STORE_PATH}/postgres-internal-data

# ===================================================================
# POSTGRESQL BUSINESS DATABASE — Business operations
# ===================================================================

POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=business_db
POSTGRES_DATA_PATH=${PERSISTENT_STORE_PATH}/postgres-data

# ===================================================================
# POSTGRESQL AIRBYTE DATABASE — Airbyte metadata
# ===================================================================

POSTGRES_AIRBYTE_USER=airbyte
POSTGRES_AIRBYTE_PASSWORD=airbyte
POSTGRES_AIRBYTE_DB=airbyte
# DATABASE_URL uses the service name "airbyte-postgres" — this resolves
# correctly because every service now sits on the same shared-network.
DATABASE_URL=jdbc:postgresql://airbyte-postgres:5432/airbyte
AIRBYTE_DB_PATH=${PERSISTENT_STORE_PATH}/airbyte-db-data

# ===================================================================
# REDIS
# ===================================================================
# (no extra variables needed — defaults in compose are fine)

# ===================================================================
# AIRFLOW CONFIGURATION
# ===================================================================

AIRFLOW_ADMIN_USERNAME=admin
AIRFLOW_ADMIN_PASSWORD=admin
AIRFLOW_PORT=8080
AIRFLOW_FERNET_KEY=bniPV65stGrQP9hxsEIViF8rW_l1aTAL1jqKXW2Duvk=

# Airflow persistent & workspace paths

AIRFLOW_DATA_PATH=${PERSISTENT_STORE_PATH}/airflow-data
AIRFLOW_LOGS_PATH=${AIRFLOW_DATA_PATH}/logs
AIRFLOW_PLUGINS_PATH=${AIRFLOW_DATA_PATH}/plugins
AIRFLOW_WORKSPACE_PATH=../airflow-workspace
AIRFLOW_DAGS_PATH=${AIRFLOW_WORKSPACE_PATH}/dags

# ===================================================================
# DBT CONFIGURATION
# ===================================================================

DBT_WORKSPACE_PATH=../dbt-workspace
DBT_PROJECTS_PATH=${DBT_WORKSPACE_PATH}/dbt-projects

# ===================================================================
# SUPERSET CONFIGURATION
# ===================================================================

SUPERSET_ADMIN_USERNAME=admin
SUPERSET_ADMIN_PASSWORD=admin
SUPERSET_ADMIN_EMAIL=admin@superset.com
SUPERSET_PORT=8088
SUPERSET_DB=superset
SUPERSET_SECRET_KEY=gC4fCDSr44cmKBsVgSHiDneSF0M6wc6hVMn317YZyOQ

SUPERSET_DATA_PATH=${PERSISTENT_STORE_PATH}/superset-data

# ===================================================================
# AIRBYTE CONFIGURATION
# ===================================================================

AIRBYTE_VERSION=0.50.33
AIRBYTE_PORT=8000
WEBAPP_URL=http://localhost:8000
INTERNAL_API_PORT=8001

# Airbyte persistent paths
AIRBYTE_CONFIG_PATH=${PERSISTENT_STORE_PATH}/airbyte-config-data
AIRBYTE_WORKSPACE_PATH=${PERSISTENT_STORE_PATH}/airbyte-workspace-data